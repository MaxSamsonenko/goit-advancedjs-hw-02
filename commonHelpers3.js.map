{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n//iziToast options\nconst errorMessage = {\n  title: '',\n  message: '',\n  position: 'topRight',\n};\nconst successMessage = {\n  title: '',\n  message: '',\n  position: 'topRight',\n};\n\n//get form element\nconst form = document.querySelector('.form');\n//an object for storing form input values\nconst userInput = {};\n//variable for storing promise number\nlet promiseCounter = 0;\n//add event listeners to form element\nform.addEventListener('input', handleUserInput);\nform.addEventListener('submit', handleFormSubmit);\n//get user input values and store them in userInput object\nfunction handleUserInput(e) {\n  userInput[e.target.name] = Number(e.target.value);\n}\n//handle form submit\nfunction handleFormSubmit(e) {\n  e.preventDefault();\n  let step = userInput.delay;\n  //create promises according to amount value\n  for (let i = 0; i < userInput.amount; i += 1) {\n    promiseCounter += 1;\n    createPromise(promiseCounter, step).then(onSuccess).catch(onError);\n    step += userInput.step;\n  }\n}\n//callback function if promise fulfilled\nfunction onSuccess({ position, delay }) {\n  successMessage.message = `Fulfilled promise ${position} in ${delay}ms`;\n  iziToast.success(successMessage);\n}\n//callback function if promise rejected\nfunction onError({ position, delay }) {\n  errorMessage.message = `Rejected promise ${position} in ${delay}ms`;\n  iziToast.error(errorMessage);\n}\n//create promise\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n"],"names":["errorMessage","successMessage","form","userInput","promiseCounter","handleUserInput","handleFormSubmit","step","i","createPromise","onSuccess","onError","position","delay","iziToast","shouldResolve","resolve","reject"],"mappings":"wIAIA,MAAMA,EAAe,CACnB,MAAO,GACP,QAAS,GACT,SAAU,UACZ,EACMC,EAAiB,CACrB,MAAO,GACP,QAAS,GACT,SAAU,UACZ,EAGMC,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAY,CAAA,EAElB,IAAIC,EAAiB,EAErBF,EAAK,iBAAiB,QAASG,CAAe,EAC9CH,EAAK,iBAAiB,SAAUI,CAAgB,EAEhD,SAASD,EAAgB,EAAG,CAC1BF,EAAU,EAAE,OAAO,MAAQ,OAAO,EAAE,OAAO,KAAK,CAClD,CAEA,SAASG,EAAiB,EAAG,CAC3B,EAAE,eAAc,EAChB,IAAIC,EAAOJ,EAAU,MAErB,QAASK,EAAI,EAAGA,EAAIL,EAAU,OAAQK,GAAK,EACzCJ,GAAkB,EAClBK,EAAcL,EAAgBG,CAAI,EAAE,KAAKG,CAAS,EAAE,MAAMC,CAAO,EACjEJ,GAAQJ,EAAU,IAEtB,CAEA,SAASO,EAAU,CAAE,SAAAE,EAAU,MAAAC,GAAS,CACtCZ,EAAe,QAAU,qBAAqBW,QAAeC,MAC7DC,EAAS,QAAQb,CAAc,CACjC,CAEA,SAASU,EAAQ,CAAE,SAAAC,EAAU,MAAAC,GAAS,CACpCb,EAAa,QAAU,oBAAoBY,QAAeC,MAC1DC,EAAS,MAAMd,CAAY,CAC7B,CAEA,SAASS,EAAcG,EAAUC,EAAO,CACtC,MAAME,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACXF,EACFC,EAAQ,CAAE,SAAAJ,EAAU,MAAAC,CAAK,CAAE,EAE3BI,EAAO,CAAE,SAAAL,EAAU,MAAAC,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CAAG,CACH"}